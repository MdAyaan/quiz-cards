(this["webpackJsonpquiz-cards"]=this["webpackJsonpquiz-cards"]||[]).push([[0],{24:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(17),s=c.n(a),i=c(18),o=c(3),u=c(0);function j(e){var t=e.card,c=Object(n.useState)("initial"),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!1),j=Object(o.a)(i,2),d=j[0],l=j[1],b=Object(n.useRef)(),f=Object(n.useRef)();function m(){var e=b.current.clientHeight,t=f.current.clientHeight;s(Math.max(100,e,t))}return Object(n.useEffect)(m,[t.question,t.answer,t.options]),Object(n.useEffect)((function(){return window.addEventListener("resize",m),function(){return window.removeEventListener("resize",m)}}),[]),Object(u.jsxs)("div",{className:"card ".concat(d?"flip":""),style:{height:a},onClick:function(){l(!d)},children:[Object(u.jsxs)("div",{className:"front",ref:b,children:[t.question,Object(u.jsx)("div",{className:"card-options",children:t.options.map((function(e){return Object(u.jsx)("div",{className:"card-option",children:e},e)}))})]}),Object(u.jsx)("div",{className:"back",ref:f,children:t.answer})]})}function d(e){var t=e.cards;return Object(u.jsx)("div",{className:"card-grid",children:t.map((function(e){return Object(u.jsx)(j,{card:e},e.id)}))})}c(24);var l=c(8),b=c.n(l);function f(){var e=Object(n.useContext)(m),t=e.handleSubmit,c=e.categories,r=e.categoryEl,a=e.amountEl;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"header",onSubmit:t,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"category",children:" Category "}),Object(u.jsx)("select",{id:"category",ref:r,children:c.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"amount",children:" Number of Questions "}),Object(u.jsx)("input",{type:"number",id:"amount",min:"1",defaultValue:"10",step:"1",ref:a})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("button",{className:"btn",children:"Generate"})})]})})}var m=Object(n.createContext)();var O=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(o.a)(a,2),j=s[0],l=s[1],O=Object(n.useRef)(),h=Object(n.useRef)(),p={handleSubmit:function(e){e.preventDefault(),v()},categories:j,categoryEl:O,amountEl:h};function v(){b.a.get("https://opentdb.com/api.php",{params:{amount:h.current.value,category:O.current.value}}).then((function(e){r(e.data.results.map((function(e,t){var c=[].concat(Object(i.a)(e.incorrect_answers.map((function(e){return x(e)}))),[x(e.correct_answer)]);return{id:"".concat(t,"-").concat(Date.now()),question:x(e.question),answer:x(e.correct_answer),options:c.sort((function(){return Math.random()-.5}))}})))}))}function x(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}return Object(n.useEffect)((function(){b.a.get("https://opentdb.com/api_category.php").then((function(e){return l(e.data.trivia_categories)}))}),[]),Object(n.useEffect)(v,[]),Object(u.jsxs)(m.Provider,{value:p,children:[Object(u.jsx)(f,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(d,{cards:c})})]})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d58dd6ff.chunk.js.map